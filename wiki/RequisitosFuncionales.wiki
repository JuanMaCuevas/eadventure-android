#summary Requisitos del comportamiento de nuestra aplicación
#labels Phase-Requirements


==Personajes==

1.Apariencia :  

El personaje puede tener de 0..N apariencias distintas  - > Bloque de Recursos #1 ..#N  
Estas apariencias cambian según unas condiciones establecidas. ( Vease condiciones)
De todas las apariencias en las que se cumplan las condiciones se usara la que se haya definido antes. 
Cada apariencia cuenta con un grupo de recursos de animaciones (conjunto de animaciones) :

Los recursos de animaciones son :
Animaciones Hablando
Animaciones Parado
Animaciones Caminando
Animaciones Usando

Cada recurso de animaciones cuenta con 4 tipos de animacion excepto “Usando” que admite 2 tipos de animacion. Estas son :
Hacia Arriba
Hacia Abajo 
Hacia Derecha (usando)
Hacia Izquierda (usando)

Cada animación es   un conjunto de imagenes “soportadas por el motor” que sigen el siguiente formato : * _01.png …. *_DD.png . Se unen para conseguir la animacion con un frame-rate de : ?¿?¿?¿¿?¿??¿?¿
Las imagenes de las animaciones se guardan en /assets/images 
Mirar caracteristicas de edicion de animaciones ?¿?¿??¿

2.Informacion del personaje :  

El nombre del personaje es texto con variables y flags que se mostrara ? Se usa para algo en el motor en teoria.?¿?
Descripcion breve del personaje es texto con variables o flags que se mostrara al mirar el personaje.
Descripcion detallada del personaje es texto con variables o  que se mostrara al examinar el personaje.


3.Configuracion Dialogo : 

El dialogo del personaje tiene las siguientes caracteristicas :

Puede mostrarse el dialogo CON o SIN Bocadillo . El bocadillo es un area rectangular con los bordes redondeados que contiene el texto del dialogo.
La letra del dialogo tiene asociado un color de relleno y de borde en RGB o Hexadecimal ?¿?¿?
El bocadillo tambien tiene asociado un color de relleno y de borde en RGB o Hexadecimal ?¿?¿
La voz puede ser sintetizada usando el sintetizador de voz XXX
El sintetizador de voz cuenta con 2 voces : Kevin y Kevin16
Puede elegirse SI sintetizar todas las conversaciones del personaje o NO .

4.Interacciones del personaje con el protagonista o jugador ( Acciones): 

Pueden tener de 0..N acciones 
Las acciones pueden ser de distintos tipos :
Examinar
Hablar Con..
Usar
Accion personalizada
Para cada accion se puede definir si el protagonista o jugador necesita alcanzar el personaje para realizar la acción.
Si se necesita alcanzar el personaje se especifica a que distancia en pixeles?¿ se considera alcanzado .
La accion puede tener unas condiciones asociadas para que se cumplan ( vease condiciones)
Si el personaje tiene varias acciones del mismo tipo , se empleara de las acciones que cumplen las condiciones asociadas , la que se definio antes.
Las acciones tendran asociadas una representacion en forma de animacion ya definida en las Animacinoes del personaje .

Cada tipo de accion tienen caracteristicas distintas :

Accion Examinar :
				
Puede tener asociado de 0..N “Efectos” (Vease Efectos) que se realizan cuando el personaje se examine . Los efectos pueden tener “condiciones” asociadas . Si se ponen efectos repetidos se emplea el efecto que cumpla las condiciones y que primero se definio.
Salida Activa cuando condiciones Inactivas?¿?¿?¿?¿
Si salida Activa cuando condiciones Inactivas → No Efectos .
				       Puede tener de 0..N no efectos . Los no efectos pueden tener 					       “condiciones” asociadas . Si se ponen no efectos repetidos se 					       emplea el efecto que cumpla las condiciones y que primero se 					       definio.




Accion Usar :  

Las caracteristicas de la accion USAR son exactamente las mismas que las de EXAMINAR . 

					
Accion Hablar Con..

La accion tiene que tener asociada una “Efecto” que es una  “Conversacion” ?? pregunta importante 
Las demas caracteristicas son iguales que las de USAR y EXAMINAR puede tener mas efectos .		

Accion Personalizable : 



==Condiciones== 

 * Las condiciones son fórmulas lógicas (operadores AND y OR) en las que los elementos pueden ser (“Flag”) , (“Variables”) y (“Estados Globales”) del capitulo.
 * Los (“Flag”) se puede comprobar si estan activados o no
 * Las (“Variables”) se puede comprobar si son > >= < <= = que un valor numerico comprendido entre [0,inf]
 * Los estados globales se pueden combrobar si se estan cumpliendo o no (“Estados Globalos”)

==Flags==

 * Es un dato en el que se guarda un valor : ACTIVADO o DESACTIVADO
 * Cada flag tiene su nombre de flag asociado.

==Variables==

 * Es un dato en el que se guarda un valor numerico comprendido entre [0,inf]
 * Cada variable tiene un nombre de variable asociado 

==Efectos==

 * Activar flag (“Flags” ) : de entre todos creados en el capitulo . De X → 1
 * Desactivar flag ( “Flags” ) de entre todos creados en el capitulo . De X → 0
 * Cambiar valor variable (“Variables”)  por un valor numerico , de entre todas creados en el capitulo
 * Incrementa el valor de una variable (“Variables”) con un valor numerico ,  de entre todos creadas en el capitulo
 * Decrementar variable (“Variables”) con valor numerico de entre todos las creadas en el capitulo 
 * Lanzar (“Reproduccion de Audio”) .
  * Puede hacerse en segundo plano o en primer plano.
  * En primer plano el juego se bloquea hasta que termine la reproduccion y no deja lanzar efectos , mover el protagonista etc...)
  * En segundo plano el juego continua mientras se reproduce el audio .
 * Lanzar una animacion (“Animaciones”) en unas coordenadas  XY de destino , de entre todas las del capitulo.
 * Lanzar (“Escena Intermedia”) de entre todas las del capitulo . 
  * Terminada la escena intermedia se continuara ejecutando los efectos que tenga asociada dicha escena intermedia . Se debe producir la cadena de efectos.
 * Lanzar dialogo protagonista :
  * El texto saldra con los colores asociados a las (“Conversaciones”) para el protagonista si tiene activada la opcion sintetizar siempre , la frase introducida se 	sitetizara (“Sintetizador de Voz”) El texto se muestra al lado del protagonista .
 * Lanzar dialogo personaje : 
  * El texto saldra con los colores asociados a las (“Conversaciones”) para el personaje si tiene activada la opcion sintetizar siempre , la frase introducida se sitetizara 	(“Sintetizador de Voz”) El texto se muestra al lado del personaje .
 * Lanzar (“Libro”) : 
  * Se produce una transicion al (“Libro”) especificado , de entre los libros del capitulo.
 * Lanzar (“Conversacion”) . Solo las del capitulo l.
 * Lanzar (“Transicion de Escena”) --> No esta hecho asi pero interesaria , esta hecho directamente la escena a pelo y se elige donde debe aparecer el protagonista … )
 * Lanzar ir a la ultima escena  → Se produce una transicion a la ultima escena.
 * Consumir un objeto : el (“Objeto”) desaparece de la (“Escena”)
 * Generar objeto :  el (“Objeto”) se añade al (“Inventario”)
 * Lanzar Mover protagonista : se produce un (“Movimiento ”) del (“Personaje”) a una pos XY→ no tira en el motor
 * Lanzar Mover personaje : se produce un (“Movimiento ”) del (“Personaje”) a una pos XY → supongo que esto tampoco tirara
 * Lanzar (“Macro”) → se lanza la (“Macro”) ->se ejecutan los (“Efectos”) de la macro uno seguido de otro
 * Lanzar Cancelar Accion → Se cancelan todas los (“Efectos”) que tienen las (“Acciones”) por defecto  ( No entiendorrr ) Ejemplo : se desactiva que se consuma automáticamente el objeto de la escena al realizar la (“Accion”) de coger un objeto .
 * Lanzar Efecto con probabilidad 
  * Se tienen dos (“Efectos”) .  
  * Se sabe la probabilidad que tienen de ser escogidos los dos efectos . 	
  * Se realiza el calculo de ser elegido con esa probabilidad y se lanza el (“Efecto”) .
  * La probabilidad esta en % y entre las dos suman 100%.
 * Lanzar espera de tiempo : el juego se bloquea y no se permite interaccion con el usuario , se define en segundos .






==Escenas Intermedias==
 * contienen nombre y descripción???
 * pueden ser de diapositivas o de video
 * ocupan toda la pantalla al mostrarse
 * las de diapositivas:
   * muestran una animacion en formato jpg slides o eaa ("Animaciones")
   * reproducen un sonido en formato mp3, mid o midi ("Reproduccion Audio")
 * las de video muestran un video en formato mov,avi,mpg ("Reproducción de Video")
 * Al finalizar pueden: volver a la escena anterior, ir a nueva escena ("Transicion Escenas") o terminar el capítulo.
 * durante la escena el usuario no puede interactuar ( solo con Menu)

==Conversaciones==
 * muestran conversación entre dos o más personajes (incluido el protagonista???)
 * compuestas por nodos de opciones y nodos de diálogo unidos entre enlaces 
 * los nodos de dialogo están compuestos por líneas de texto (bocadillo). 
 * cada línea de texto pertenece a un solo personaje que participa en la conversación.
 * en cada momento de un diálogo se muestra una sola línea de texto
 * cada línea se mostrará con tiempo proporcional a su longitud
 * nodos de opciones muestran en lineas de texto las opciones que el jugador puede responder
 * cuando el jugador selecciona una respuesta la conversación continúa (enlaza) con el nodo correspondiente
 * las líneas pueden tener audio asociado ("Reproduccion Audio")
 * las lineas pueden contener condiciones que decidirán si se muestran o no. ("Condiciones")
 * las líneas pueden ser reproducidas por un ("sintetizador de voz") ("Accesibilidad")
 * los nodos pueden tener efectos



==Caracteristicas Avanzadas== 
===Temporizadores===
 * cada uno tiene un tiempo asociado entre 1 y 356.400 segundos
 * un temp. se puede mostrar o no
 * si se muestra:
   * se muestra su nombre
   * se muestra avanzando ó retrocediendo
   * cuando está parado se muestran ó no
 * un temp. puede tener una o más ("condiciones") iniciales
   * un temp se activa cuando se cumplen sus condiciones iniciales.
   * si un temp. no tiene condiciones iniciales se activa automaticamente.
 * un temp. puede tener una o más ("condiciones") finales
   * un temp. se desactiva cuando se cumplen sus condiciones finales
   * si un temp. no tiene condiciones finales se desactiva cuando NO se cumplen sus condiciones iniciales
 * un temp. puede tener uno o más efectos a ejecutar cuando expire
 * un temp. puede tener uno o más efectos a ejecutar cuando se desactive
 * un temp. parado puede iniciarse nuevamente (multiples inicios) si se cumplen las condiciones de entrada
 * un temp. puede funcionar en bucle o detenerse cuando llega a su fin.

 
===Estados globales===
 * un EG Tiene identificador, descripción y una lista de condiciones
 * EG estará activo si no tiene condiciones ó si se cumplen todas sus condiciones

===Macros===
 * un macro tiene identificador, descripción y una lista de efectos